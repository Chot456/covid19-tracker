{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\chot\\\\Desktop\\\\covid_tracker\\\\covid-19-tracker\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\chot\\\\Desktop\\\\covid_tracker\\\\covid-19-tracker\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\chot\\\\Desktop\\\\covid_tracker\\\\covid-19-tracker\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import InfoBox from'./InfoBox';import Map from'./Map';import Table from'./Table';import{sortData,prettyPrintStat}from'./util';import LineGraph from'./LineGraph';import\"leaflet/dist/leaflet.css\";import{MenuItem,FormControl,Select,Card,CardContent}from\"@material-ui/core\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),countries=_useState2[0],setCountries=_useState2[1];var _useState3=useState('worldwide'),_useState4=_slicedToArray(_useState3,2),country=_useState4[0],setCountry=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),countryInfo=_useState6[0],setCountryInfo=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tableData=_useState8[0],setTableData=_useState8[1];var _useState9=useState({lat:34.80746,lng:-40.4796}),_useState10=_slicedToArray(_useState9,2),mapCenter=_useState10[0],setMapCenter=_useState10[1];var _useState11=useState(3),_useState12=_slicedToArray(_useState11,2),mapZoom=_useState12[0],setMapZoom=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),mapCountries=_useState14[0],setMapCountries=_useState14[1];var _useState15=useState('cases'),_useState16=_slicedToArray(_useState15,2),casesType=_useState16[0],setCasesType=_useState16[1];// STATE = How to write a variable in REACT\n// https://disease.sh/v3/covid-19/countries\n// USEEFFECT = onload will run the code\nuseEffect(function(){fetch(\"https://disease.sh/v3/covid-19/all\").then(function(response){return response.json();}).then(function(data){setCountryInfo(data);});},[]);// onload get countries data from API\nuseEffect(function(){// async -> send a request , wait for it, to do something with it\n// get countries from API\nvar getCountriesData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://disease.sh/v3/covid-19/countries\").then(function(response){return response.json();}).then(function(data){var countries=data.map(function(country){return{name:country.country,//United states\nvalue:country.countryInfo.iso2// UK, USA, FR\n};});// sort the country data start from highest\nvar sortedData=sortData(data);// set data in country table\nsetTableData(sortedData);// set countries data in map\nsetMapCountries(data);// set county\nsetCountries(countries);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getCountriesData(){return _ref.apply(this,arguments);};}();getCountriesData();},[]);//Function for changing Select menu\nvar onCountryChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var countryCode,url;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:countryCode=event.target.value;setCountry(countryCode);// https://disease.sh/v3/covid-19/countries/[COUNTRY_CODE]\nurl=countryCode==='worldwide'?'https://disease.sh/v3/covid-19/all':\"https://disease.sh/v3/covid-19/countries/\".concat(countryCode);_context2.next=5;return fetch(url).then(function(response){return response.json();}).then(function(data){// for setting up the country code\nsetCountry(countryCode);// All of the data from the country response\nsetCountryInfo(data);// set the map location lattitude and longtitude\nsetMapCenter([data.countryInfo.lat,data.countryInfo.long]);// for map zoom in\nsetMapZoom(4);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function onCountryChange(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app__left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app__header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"COVID-19 TRACKER\"),/*#__PURE__*/React.createElement(FormControl,{className:\"app__dropdown\"},/*#__PURE__*/React.createElement(Select,{variant:\"outlined\",onChange:onCountryChange,value:country},/*#__PURE__*/React.createElement(MenuItem,{value:\"worldwide\"},\"Worldwide\"),countries.map(function(country){return/*#__PURE__*/React.createElement(MenuItem,{value:country.value},country.name);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"app__stats\"},/*#__PURE__*/React.createElement(InfoBox,{isRed:true,active:casesType==='cases',onClick:function onClick(e){return setCasesType('cases');},title:\"Coronavirus Cases\",cases:prettyPrintStat(countryInfo.todayCases),total:prettyPrintStat(countryInfo.cases)}),/*#__PURE__*/React.createElement(InfoBox,{active:casesType==='recovered',onClick:function onClick(e){return setCasesType('recovered');},title:\"Recovered\",cases:prettyPrintStat(countryInfo.todayRecovered),total:prettyPrintStat(countryInfo.todayRecovered)}),/*#__PURE__*/React.createElement(InfoBox,{isRed:true,active:casesType==='deaths',onClick:function onClick(e){return setCasesType('deaths');},title:\"Deaths\",cases:prettyPrintStat(countryInfo.todayDeaths),total:prettyPrintStat(countryInfo.todayDeaths)})),/*#__PURE__*/React.createElement(Map,{casesType:casesType,countries:mapCountries,center:mapCenter,zoom:mapZoom})),/*#__PURE__*/React.createElement(\"div\",{className:\"app__right\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Live Cases by Country\"),/*#__PURE__*/React.createElement(Table,{countries:tableData}))),/*#__PURE__*/React.createElement(Card,{className:\"mt-8\"},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(\"h3\",null,\"World new \",casesType),/*#__PURE__*/React.createElement(LineGraph,{casesType:casesType})))));}export default App;","map":{"version":3,"sources":["C:/Users/chot/Desktop/covid_tracker/covid-19-tracker/src/App.js"],"names":["React","useState","useEffect","InfoBox","Map","Table","sortData","prettyPrintStat","LineGraph","MenuItem","FormControl","Select","Card","CardContent","App","countries","setCountries","country","setCountry","countryInfo","setCountryInfo","tableData","setTableData","lat","lng","mapCenter","setMapCenter","mapZoom","setMapZoom","mapCountries","setMapCountries","casesType","setCasesType","fetch","then","response","json","data","getCountriesData","map","name","value","iso2","sortedData","onCountryChange","event","countryCode","target","url","long","e","todayCases","cases","todayRecovered","todayDeaths"],"mappings":"4hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,QAAT,CAAmBC,eAAnB,KAA0C,QAA1C,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAO,0BAAP,CAEA,OACEC,QADF,CAEEC,WAFF,CAGEC,MAHF,CAIEC,IAJF,CAKEC,WALF,KAMO,mBANP,CAQA,QAASC,CAAAA,GAAT,EAAe,eACqBb,QAAQ,CAAC,EAAD,CAD7B,wCACNc,SADM,eACKC,YADL,8BAEiBf,QAAQ,CAAC,WAAD,CAFzB,yCAENgB,OAFM,eAEGC,UAFH,8BAGyBjB,QAAQ,CAAC,EAAD,CAHjC,yCAGNkB,WAHM,eAGOC,cAHP,8BAIqBnB,QAAQ,CAAC,EAAD,CAJ7B,yCAINoB,SAJM,eAIKC,YAJL,8BAKqBrB,QAAQ,CAAC,CAAEsB,GAAG,CAAE,QAAP,CAAiBC,GAAG,CAAE,CAAC,OAAvB,CAAD,CAL7B,0CAKNC,SALM,gBAKKC,YALL,gCAMiBzB,QAAQ,CAAC,CAAD,CANzB,2CAMN0B,OANM,gBAMGC,UANH,gCAO2B3B,QAAQ,CAAC,EAAD,CAPnC,2CAON4B,YAPM,gBAOQC,eAPR,gCAQqB7B,QAAQ,CAAC,OAAD,CAR7B,2CAQN8B,SARM,gBAQKC,YARL,gBAUb;AAEA;AAEA;AACA9B,SAAS,CAAC,UAAK,CAChB+B,KAAK,CAAC,oCAAD,CAAL,CACCC,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAI,CACbjB,cAAc,CAACiB,IAAD,CAAd,CACA,CAJD,EAKE,CANQ,CAMP,EANO,CAAT,CAQA;AACAnC,SAAS,CAAC,UAAM,CACZ;AACH;AACG,GAAMoC,CAAAA,gBAAgB,0FAAG,yJACjBL,CAAAA,KAAK,CAAC,0CAAD,CAAL,CACLC,IADK,CACA,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADA,EAELF,IAFK,CAEA,SAACG,IAAD,CAAU,CACd,GAAMtB,CAAAA,SAAS,CAAGsB,IAAI,CAACE,GAAL,CAAS,SAACtB,OAAD,QAAc,CACrCuB,IAAI,CAAEvB,OAAO,CAACA,OADuB,CACd;AACvBwB,KAAK,CAAExB,OAAO,CAACE,WAAR,CAAoBuB,IAAM;AAFI,CAAd,EAAT,CAAlB,CAKP;AACA,GAAMC,CAAAA,UAAU,CAAGrC,QAAQ,CAAC+B,IAAD,CAA3B,CAEA;AACAf,YAAY,CAACqB,UAAD,CAAZ,CAEA;AACAb,eAAe,CAACO,IAAD,CAAf,CAEA;AACSrB,YAAY,CAACD,SAAD,CAAZ,CACH,CAnBK,CADiB,uDAAH,kBAAhBuB,CAAAA,gBAAgB,0CAAtB,CAuBAA,gBAAgB,GACnB,CA3BQ,CA2BN,EA3BM,CAAT,CA6BA;AACA,GAAMM,CAAAA,eAAe,2FAAG,kBAAOC,KAAP,0IAChBC,WADgB,CACFD,KAAK,CAACE,MAAN,CAAaN,KADX,CAEzBvB,UAAU,CAAC4B,WAAD,CAAV,CAEA;AACME,GALmB,CAKbF,WAAW,GAAK,WAAhB,CAA8B,oCAA9B,oDAAiHA,WAAjH,CALa,wBAOnBb,CAAAA,KAAK,CAACe,GAAD,CAAL,CACLd,IADK,CACA,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADR,EAELF,IAFK,CAEA,SAAAG,IAAI,CAAG,CAEZ;AACAnB,UAAU,CAAC4B,WAAD,CAAV,CAEA;AACA1B,cAAc,CAACiB,IAAD,CAAd,CAEA;AACAX,YAAY,CAAC,CAACW,IAAI,CAAClB,WAAL,CAAiBI,GAAlB,CAAuBc,IAAI,CAAClB,WAAL,CAAiB8B,IAAxC,CAAD,CAAZ,CAEA;AACArB,UAAU,CAAC,CAAD,CAAV,CACA,CAfK,CAPmB,yDAAH,kBAAfgB,CAAAA,eAAe,6CAArB,CAyBA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACF,2BAAK,SAAS,CAAC,WAAf,eACC,2BAAK,SAAS,CAAC,aAAf,eACC,iDADD,cAEC,oBAAC,WAAD,EAAa,SAAS,CAAC,eAAvB,eACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,QAAQ,CAAEA,eAArC,CAAsD,KAAK,CAAE3B,OAA7D,eACC,oBAAC,QAAD,EAAU,KAAK,CAAC,WAAhB,cADD,CAGCF,SAAS,CAACwB,GAAV,CAAc,SAACtB,OAAD,qBACb,oBAAC,QAAD,EAAU,KAAK,CAAEA,OAAO,CAACwB,KAAzB,EAAiCxB,OAAO,CAACuB,IAAzC,CADa,EAAd,CAHD,CADD,CAFD,CADD,cAeC,2BAAK,SAAS,CAAC,YAAf,eACC,oBAAC,OAAD,EACC,KAAK,KADN,CAEC,MAAM,CAAET,SAAS,GAAK,OAFvB,CAGC,OAAO,CAAE,iBAACmB,CAAD,QAAOlB,CAAAA,YAAY,CAAC,OAAD,CAAnB,EAHV,CAIC,KAAK,CAAC,mBAJP,CAKC,KAAK,CAAEzB,eAAe,CAACY,WAAW,CAACgC,UAAb,CALvB,CAMC,KAAK,CAAE5C,eAAe,CAACY,WAAW,CAACiC,KAAb,CANvB,EADD,cAUC,oBAAC,OAAD,EACC,MAAM,CAAErB,SAAS,GAAK,WADvB,CAEC,OAAO,CAAE,iBAACmB,CAAD,QAAOlB,CAAAA,YAAY,CAAC,WAAD,CAAnB,EAFV,CAGC,KAAK,CAAC,WAHP,CAIC,KAAK,CAAEzB,eAAe,CAACY,WAAW,CAACkC,cAAb,CAJvB,CAKC,KAAK,CAAE9C,eAAe,CAACY,WAAW,CAACkC,cAAb,CALvB,EAVD,cAkBC,oBAAC,OAAD,EACC,KAAK,KADN,CAEC,MAAM,CAAEtB,SAAS,GAAK,QAFvB,CAGC,OAAO,CAAE,iBAACmB,CAAD,QAAOlB,CAAAA,YAAY,CAAC,QAAD,CAAnB,EAHV,CAIC,KAAK,CAAC,QAJP,CAKC,KAAK,CAAEzB,eAAe,CAACY,WAAW,CAACmC,WAAb,CALvB,CAMC,KAAK,CAAE/C,eAAe,CAACY,WAAW,CAACmC,WAAb,CANvB,EAlBD,CAfD,cA2CC,oBAAC,GAAD,EACC,SAAS,CAAEvB,SADZ,CAEC,SAAS,CAAEF,YAFZ,CAGC,MAAM,CAAEJ,SAHT,CAIC,IAAI,CAAEE,OAJP,EA3CD,CADE,cAoDF,2BAAK,SAAS,CAAC,YAAf,eACC,oBAAC,IAAD,mBACC,oBAAC,WAAD,mBACC,sDADD,cAEC,oBAAC,KAAD,EAAO,SAAS,CAAEN,SAAlB,EAFD,CADD,CADD,cAOC,oBAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,eACC,oBAAC,WAAD,mBACC,2CAAeU,SAAf,CADD,cAEC,oBAAC,SAAD,EAAW,SAAS,CAAEA,SAAtB,EAFD,CADD,CAPD,CApDE,CADF,CAqED,CAED,cAAejB,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport './App.css';\nimport InfoBox from './InfoBox';\nimport Map from './Map';\nimport Table from './Table';\nimport { sortData, prettyPrintStat } from './util';\nimport LineGraph from './LineGraph';\nimport \"leaflet/dist/leaflet.css\"\n\nimport {\n  MenuItem,\n  FormControl,\n  Select,\n  Card,\n  CardContent,\n} from \"@material-ui/core\"\n\nfunction App() {\n  const [countries, setCountries] = useState([]);\n  const [country, setCountry] = useState('worldwide');\n  const [countryInfo, setCountryInfo] = useState({});\n  const [tableData, setTableData] = useState([]);\n  const [mapCenter, setMapCenter] = useState({ lat: 34.80746, lng: -40.4796 });\n  const [mapZoom, setMapZoom] = useState(3);\n  const [mapCountries, setMapCountries] = useState([]);\n  const [casesType, setCasesType] = useState('cases');\n \n  // STATE = How to write a variable in REACT\n\n  // https://disease.sh/v3/covid-19/countries\n\n  // USEEFFECT = onload will run the code\n  useEffect(() =>{\n\tfetch(\"https://disease.sh/v3/covid-19/all\")\n\t.then(response => response.json())\n\t.then(data => {\n\t\tsetCountryInfo(data);\n\t})\n  },[]);\n\n  // onload get countries data from API\n  useEffect(() => {\n      // async -> send a request , wait for it, to do something with it\n\t  // get countries from API\n      const getCountriesData = async () => {\n        await fetch(\"https://disease.sh/v3/covid-19/countries\")\n        .then((response) => response.json())\n        .then((data) => {\n          const countries = data.map((country) => ({\n              name: country.country, //United states\n              value: country.countryInfo.iso2  // UK, USA, FR\n            }));\n\t\t\t\n\t\t\t// sort the country data start from highest\n\t\t\tconst sortedData = sortData(data);\n\t\t\t\n\t\t\t// set data in country table\n\t\t\tsetTableData(sortedData);\n\n\t\t\t// set countries data in map\n\t\t\tsetMapCountries(data);\n\n\t\t\t// set county\n            setCountries(countries);\n        });\n      };\n\n      getCountriesData();\n  }, []);\n\n  //Function for changing Select menu\n  const onCountryChange = async (event) => {\n    const countryCode = event.target.value;\n\tsetCountry(countryCode)\n\t\n\t// https://disease.sh/v3/covid-19/countries/[COUNTRY_CODE]\n\tconst url = countryCode === 'worldwide' ? 'https://disease.sh/v3/covid-19/all' : `https://disease.sh/v3/covid-19/countries/${countryCode}`;\n\n\tawait fetch(url)\n\t.then(response => response.json())\n\t.then(data=> {\n\n\t\t// for setting up the country code\n\t\tsetCountry(countryCode);\n\t\t\n\t\t// All of the data from the country response\n\t\tsetCountryInfo(data);\n\n\t\t// set the map location lattitude and longtitude\n\t\tsetMapCenter([data.countryInfo.lat, data.countryInfo.long]);\n\n\t\t// for map zoom in\n\t\tsetMapZoom(4);\n\t});\n  };\n\n  return (\n    <div className=\"app\">\n\t\t<div className=\"app__left\">\n\t\t\t<div className=\"app__header\">\n\t\t\t\t<h1>COVID-19 TRACKER</h1>\n\t\t\t\t<FormControl className=\"app__dropdown\">\n\t\t\t\t\t<Select variant=\"outlined\" onChange={onCountryChange} value={country}>\n\t\t\t\t\t\t<MenuItem value=\"worldwide\">Worldwide</MenuItem>   \n\t\t\t\t\t\t{\n\t\t\t\t\t\tcountries.map((country) =>(\n\t\t\t\t\t\t\t<MenuItem value={country.value}>{country.name}</MenuItem>    \n\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t</Select> \n\t\t\t\t</FormControl>\n\t\t\t</div>\n\t\t\n\t\t\t<div className=\"app__stats\">\n\t\t\t\t<InfoBox \n\t\t\t\t\tisRed\n\t\t\t\t\tactive={casesType === 'cases'}\n\t\t\t\t\tonClick={(e) => setCasesType('cases')}\n\t\t\t\t\ttitle=\"Coronavirus Cases\" \n\t\t\t\t\tcases={prettyPrintStat(countryInfo.todayCases)} \n\t\t\t\t\ttotal={prettyPrintStat(countryInfo.cases)} \n\t\t\t\t\t/>\n\n\t\t\t\t<InfoBox \n\t\t\t\t\tactive={casesType === 'recovered'}\n\t\t\t\t\tonClick={(e) => setCasesType('recovered')}\n\t\t\t\t\ttitle=\"Recovered\" \n\t\t\t\t\tcases={prettyPrintStat(countryInfo.todayRecovered)} \n\t\t\t\t\ttotal={prettyPrintStat(countryInfo.todayRecovered)} \n\t\t\t\t\t/>\n\n\t\t\t\t<InfoBox\n\t\t\t\t\tisRed\n\t\t\t\t\tactive={casesType === 'deaths'}\n\t\t\t\t\tonClick={(e) => setCasesType('deaths')}\n\t\t\t\t\ttitle=\"Deaths\" \n\t\t\t\t\tcases={prettyPrintStat(countryInfo.todayDeaths)} \n\t\t\t\t\ttotal={prettyPrintStat(countryInfo.todayDeaths)} \n\t\t\t\t\t/>\n\t\t\t</div> \n\n\t\t\t<Map\n\t\t\t\tcasesType={casesType}\n\t\t\t\tcountries={mapCountries}\n\t\t\t\tcenter={mapCenter}\n\t\t\t\tzoom={mapZoom}\n\t\t\t/>\n\n\t\t</div>\n\t\t<div className=\"app__right\">\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<h3>Live Cases by Country</h3>\n\t\t\t\t\t<Table countries={tableData} />\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t\t<Card className=\"mt-8\">\n\t\t\t\t<CardContent>\n\t\t\t\t\t<h3>World new {casesType}</h3>\n\t\t\t\t\t<LineGraph casesType={casesType}></LineGraph>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t</div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}